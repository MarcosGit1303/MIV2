/* ///////////////////////////////////////////////////////// */
/* =========================CONTENIDO PARRAFOS========================= */
/* ///////////////////////////////////////////////////////// */
const textosReinos = {
  linothen: [
    "Linothen es, quizá, la joya de la humanidad en este mundo. El reino humano más grande de todo el continente, que otrora fue dominado por los mismísimos Seilars, está formado por los reinos que sus descendientes conquistaron y absorbieron. Este antiguo imperio sobrevivió durante varios siglos, hasta que las ansias de poder egoístas hicieron mella en lo que antes eran los ideales y el esfuerzo colectivo para lograr el mejor imperio jamás conocido. Poco a poco las fracturas internas se acentuaron: surgieron virreinatos, condados, países independientes, hasta que finalmente, el gobierno principal cayó, y reinaron el acero y la sangre.",
    "En la actualidad se intentan subsanar todas estas heridas, y sabiéndose después que todas, si no la mayoría, de las intrigas políticas que causaron las divisiones fueron disparadas mediante el espionaje y el subterfugio, ahora se permite la libertad a todos estos territorios, con la condición de jurar servir a Linothen. Todas estas libertades concedidas hacen que los líderes de estos reinos satélite se envalentonen, quizá, recordando el espíritu que antaño poseyeron sus ancestros, y por tanto cada vez se vuelven más poderosos e independientes de Linothen.",
    "El reino está poblado por una multitud de razas: humanos, gnomos, enanos, medianos y los ocasionales viajeros de los reinos de los bosques. Son personas tranquilas y pacíficas, que prefieren la comodidad de la paz al ser conscientes de la historia tan manchada por la guerra que tiene su imperio, y la miseria que trae la guerra para la gente de a pie. La prosperidad puede florecer también en tiempos de paz, y eso lo saben bien los habitantes del reino, que aprovechan las fértiles tierras de cultivo que tiene el reino, gracias a las cuales se pueden alimentar los reinos vecinos.",
    "La excepcional fertilidad de la tierra se debe a un río que cruza el reino y lo divide en dos partes: norte y sur. El caudaloso río sufre desbordamientos anuales, una molestía menor para los granjeros que luego gozan durante el resto del año de unas cosechas abundantes y unos bolsillos llenos. Por la parte sur del reino se construyó un camino excepcional, que es ahora una importante ruta comercial, llamada la Ruta de la Seda. Es en Linothen donde los comerciantes se aprovisionan de la seda que se cultiva a orillas del río para venderla por el resto de reinos.",
  ],
  ariende: [
    "Ariende, un conato de reino tan ligado a la guerra como al propio acero por el que se le conoce. Su historia está manchada por las guerras civiles, las trifulcas entre caudillos, puñaladas por la espalda entre los nobles y todo tipo de conflictos que uno se pueda imaginar. ",
    "Esta imagen extendida por todo el reino contrasta enormemente con la vida en Puerto Blanco, uno de los pocos lugares del reino, junto a Farrelann, donde el corrupto ejército del reino no es capaz de influir, ya que la ciudad tiene su propia guarnición y defensas de la época Seilar.",
    "Uno podría pensar que en ambas ciudades debería existir la misma corrupción en los dirigentes como sucede en el resto del reino, pero no es así. En el caso de Farrelann,  la ciudad se rige por algunos de los académicos que ya no trabajan activamente en el campo del ferroarcanismo. Se dedican a gobernar de forma altruista sin recibir nada a cambio, motivo por el que resulta tan complicado influenciarlos.",
    "En el caso de Puerto Blanco, es la orden mercantil la que rige. Siendo este lugar tan importante para los negocios, resulta de alta prioridad mantenerlo en marcha, y ninguno de los ejércitos que pretenda tomar Puerto Blanco tiene más dinero para sobornar a las autoridades que el que la ciudad puede ganar en un día.",
    "El resto del reino no tiene grandes hitos, la mayoría del terreno son praderas con hierbas altas poco dignas de mención, con algunos asentamientos esparcidos aquí y allá, cerca de las minas de hierro que hay en el país o cerca de la ruta mercante que atraviesa el reino. Existe un dicho entre los Ariendanos que dice que los Seilar construyeron primero Puerto Blanco y luego Farrelann y después se cansaron de arrancar hierbajos.",
    "Sus habitantes son principalmente humanos, gnomos y medianos, aunque gracias a la ruta comercial es posible ver de todo tipo de habitantes del país. Por culpa de las guerras, los residentes en Ariende son personas rudas, toscas, de carácter difícil, en muchas ocasiones testarudas y quizá algo desconfiadas, aunque siempre tendrán unas palabras amables para aquellos que muestren buenas intenciones y amistad."
  ],
  "cortam-aram": [
    "Cortan Aram es conocido en todo el mundo como el país de las playas. La costa de Cortan Aram está repleta de playas paradisíacas con arena dorada y un agua de color azul claro que resulta prácticamente transparente, la fauna y la flora apacibles, sin nada que pueda suponer un peligro grave. Además de sus famosas costas, al sur del país, no muy lejos de la costa se puede observar uno de los mayores fenómenos de la naturaleza, la Danza de Estrellas, una escena de lo más única y especial.",
    "El turismo juega un papel importante en la economía de Cortan Aram, por lo que se destinan varios recursos a mantener las costas y playas limpias de residuos, además de preservar el ecosistema de la nación. No obstante, el mayor flujo de personas ocurre cuando se da una Danza de Estrellas, lo que ha hecho que se financien astilleros e ingenieros navales para diseñar embarcaciones con el suelo transparente y astrónomos para predecir con exactitud cuándo ocurrirá una Danza.",
    "Aún así, tras algunos episodios de conflictos y epidemias, se determinó que no era posible depender únicamente del turismo, por lo que se construyeron varios puertos por los que ahora transcurren varias rutas comerciales importantes. Este comercio, junto a la pesca, logra hacer que Cortan Aram tenga una economía importante y sea un país con recursos.",
    "La existencia de la Danza de las Estrellas y la cercanía con el océano ha hecho que Cortan Aram adopte una religión basada en ídolos marinos. No muy lejos del lugar donde ocurre la Danza de las Estrellas, está el Templo de Stella, ahora abandonado y usado solo como atracción turística, donde antaño se realizaban rituales de sacrificio, una práctica también en desuso. Pese a que estas creencias han sido consideradas por muchas otras naciones como paganas, la importación de productos de artesanía que, en ocasiones, guardan relación con estos ídolos marinos, es cada vez más importante en el país.",
    "Hacía el interior, las playas dejan paso a un herbazal que ocupa todo el paisaje, con los ocasionales bosques reducidos de vegetación tropical, con flora de lo más colorida.",
    "En el centro del país se encuentra la capital del país, un lugar bastante austero con una población que se dedica a tareas principalmente rurales en las granjas que existen alrededor de la capital. El resto de núcleos urbanos están no demasiado lejos de las playas, alrededor de los puertos y de algunos puntos turísticos.",
    "Todo lo paradisíaco que rodea a Cortan Aram ha logrado que gente de todas partes haya querido ir en algún momento, las clases más pudientes son las que más tiempo pasan de turismo o las que han decidido mudarse a vivir a este reino. Por este motivo, en Cortan Aram se pueden encontrar humanos, tiflis, medianos, gnomos, elfos y tabasis. ",
    "Pero frente a las diferencias que pareciera, pueden existir entre los habitantes, existe una amabilidad y alegría común a todos ellos que les permite llevar un estilo de vida en el que valoran las cosas sencillas, donde aceptan a todo el mundo que quiera visitar el país. Los habitantes de Cortan Aram han inventado muchos de los entretenimientos y juegos que se conocen por el continente, desde juegos de cartas hasta deportes de contacto, además de una amplia variedad de fiestas regionales.",
    "Toda esta mezcla de razas, junto con las diferentes religiones dentro del reino, han hecho que la cultura de Cortan Aram sea única entre todas, que atrae por igual a miembros de todas las razas de cualquier reino."
  ],
  elian: [
    "Reino humano y elfico a la vez único del continente Se trata de uno de los pocos reinos donde conviven el 50-50% . Su territorio está formado por la península tiene un gran bosque en el centro donde está la capital haciendo mezcla de arquitectura humana y elfica, igual que la mezcla cultural. Existen muchos caminos entre los bosques creando una belleza para los comerciantes sin igual. Las ciudades se asientan en los límites de los bosques y fronteras de estos al lado de ríos. Dentro del propio bosque existen varias comunidades de druidas que trabajan mano a mano con el rey para mantener la salud de los bosques. Muchas personas viajan al menos una vez en su vida a estas comunidades para aprender y desarrollar ciertas habilidades y saber conectarse a la naturaleza de manera distinta. Las razas que componen el reino son elfos del bosque, humanos y gnomos. Siempre se han mantenido al margen de la mayoría de conflictos o lo intentan y es un pueblo tranquilo y pacífico. Alrededor de la costa tienen su principal fuente de alimentos aunque también se sirven de lo que proporcionan los bosques."
  ],
  ronte: [
    "Ronte es un reino enano forjado en la piedra, sus habitantes son testarudos y competitivos, su sociedad vive del comercio de sus artesanias que exportan a todo el resto de continente.",
  ]
};


/* ///////////////////////////////////////////////////////// */
/* ===================JS PARA QUE REMPLACE LOS PARRAFOS=================== */
/* ///////////////////////////////////////////////////////// */
// Función para poner bonito el nombre del reino
function formatearTitulo(nombre) {
  return nombre
    .split("-") // separa si hay guiones
    .map(palabra => palabra.charAt(0).toUpperCase() + palabra.slice(1))
    .join(" "); // vuelve a unir con espacio
}

// Obtener el parámetro de la URL (ejemplo: reino.html?nombre=linothen)
const params = new URLSearchParams(window.location.search);
const nombreReino = params.get("nombre");

// Div donde se insertará el contenido
const contenidoDiv = document.getElementById("contenido");

// Mostrar el título y los párrafos
if (nombreReino && textosReinos[nombreReino]) {
  // Crear el h1
  const titulo = document.createElement("h1");
  titulo.textContent = formatearTitulo(nombreReino);
  contenidoDiv.appendChild(titulo);

  // Crear los párrafos
  textosReinos[nombreReino].forEach(parrafo => {
    const p = document.createElement("p");
    p.textContent = parrafo;
    contenidoDiv.appendChild(p);
  });
} else {
  contenidoDiv.textContent = "No se encontró información para este reino.";
}


/* ///////////////////////////////////////////////////////// */
/* ===================MAPA=================== */
/* ///////////////////////////////////////////////////////// */
// Elemento de la imagen

// Función para comprobar si existe la imagen
function comprobarImagen(src, callback) {
  const img = new Image();
  img.onload = () => callback(true);
  img.onerror = () => callback(false);
  img.src = src;
}

if (nombreReino) {
  const ruta = `../imagenes/mapas/${nombreReino}/${nombreReino}.jpg`;
  comprobarImagen(ruta, existe => {
    if (existe) {
      mapImage.src = ruta;
      mapImage.alt = `Mapa de ${nombreReino}`;
    } else {
      mapImage.src = `../imagenes/enproceso.png`;
      mapImage.alt = "Mapa genérico";
    }
  });
} else {
  mapImage.src = `../imagenes/enproceso.png`;
  mapImage.alt = "Mapa genérico";
}

// ===================
// Aplicar transform y cambiar mapa según zoom
// ===================
function updateTransform() {
  const transform = `translate(${posX}px, ${posY}px) scale(${scale})`;
  mapImage.style.transform = transform;
  pinLayer.style.transform = transform;

  // Cambiar de mapa según zoom
  if (scale > 1.8 && mapImage.src.includes("Reinos.png")) {
    mapImage.src = "imagenes/mapas/Detalles.png";
  }
  if (scale < 1.8 && mapImage.src.includes("Detalles.png")) {
    mapImage.src = "imagenes/mapas/Reinos.png";
  }

  if (scale > 1.8) {  
    pinLayer.style.display = "block";   
  } else {
    pinLayer.style.display = "none";
  }
}